{"ast":null,"code":"var _jsxFileName = \"/Users/jsy/Desktop/ai-travel-app/frontend/src/pages/UploadPhotoForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ALLOW_TYPES = [\"image/jpeg\", \"image/png\", \"image/webp\"];\nconst MAX_MB = 15; // 单张最大 15MB，可按需调整\n\nexport default function UploadPhotoForm({\n  tripId,\n  dayIndex,\n  onUpload\n}) {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [placeName, setPlaceName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [visibility, setVisibility] = useState(\"public\"); // public | private\n  const [uploading, setUploading] = useState(false);\n  const userId = useMemo(() => localStorage.getItem(\"userId\"), []);\n  const handlePick = e => {\n    const picked = Array.from(e.target.files || []);\n    // 过滤 + 提示\n    const bad = [];\n    const ok = picked.filter(f => {\n      const validType = ALLOW_TYPES.includes(f.type);\n      const validSize = f.size <= MAX_MB * 1024 * 1024;\n      if (!validType || !validSize) bad.push(`${f.name}`);\n      return validType && validSize;\n    });\n    if (bad.length) {\n      alert(`以下文件类型或大小不符合要求（仅 JPG/PNG/WebP，≤ ${MAX_MB}MB）：\\n` + bad.join(\"\\n\"));\n    }\n    setFiles(ok);\n  };\n\n  // 向后端要预签名 URL\n  async function getSignedUrl(file, {\n    userId,\n    tripId,\n    kind\n  }) {\n    const r = await fetch(\"http://localhost:3001/api/upload/sign\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        contentType: file.type,\n        userId,\n        tripId,\n        kind,\n        // 'public' or 'private'\n        size: file.size // 可让后端做大小校验\n      })\n    });\n    if (!r.ok) throw new Error(\"获取签名失败：\" + (await r.text().catch(() => \"\")));\n    return r.json(); // { uploadUrl, key, publicUrl }\n  }\n  const handleUpload = async () => {\n    if (!userId || !tripId || dayIndex == null) {\n      alert(\"缺少必要信息（userId / tripId / dayIndex）\");\n      return;\n    }\n    if (!files.length) {\n      alert(\"请选择照片\");\n      return;\n    }\n    setUploading(true);\n    try {\n      // 串行更稳（好做错误处理），你也可以 Promise.all 并发\n      for (const file of files) {\n        // 1) 取签名\n        const {\n          uploadUrl,\n          key,\n          publicUrl\n        } = await getSignedUrl(file, {\n          userId,\n          tripId,\n          kind: visibility === \"private\" ? \"private\" : \"public\"\n        });\n\n        // 2) PUT 直传到 S3（Content-Type 必须一致）\n        const putRes = await fetch(uploadUrl, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": file.type\n          },\n          body: file\n        });\n        if (!putRes.ok) {\n          throw new Error(`上传到 S3 失败：${file.name} — ` + (await putRes.text().catch(() => \"\")));\n        }\n\n        // 3) 把元数据存到后端（注意这里用 JSON，不再用 FormData）\n        const metaRes = await fetch(\"http://localhost:3001/api/photo\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            tripId,\n            uploadedBy: userId,\n            dayIndex: Number(dayIndex),\n            placeName: placeName || null,\n            description: description || null,\n            visibility,\n            // 'public' | 'private'\n            imageUrl: publicUrl,\n            // S3 访问 URL（私有桶可留空或存人类不可见的占位，取决于你的实现）\n            imageKey: key // S3 对象 key（删除/换 CDN 会用到）\n          })\n        });\n        if (!metaRes.ok) {\n          throw new Error(`保存元数据失败：${file.name} — ` + (await metaRes.text().catch(() => \"\")));\n        }\n      }\n\n      // reset\n      setFiles([]);\n      setPlaceName(\"\");\n      setDescription(\"\");\n      alert(\"✅ 全部照片上传成功\");\n      onUpload === null || onUpload === void 0 ? void 0 : onUpload(); // 通知父组件刷新\n    } catch (err) {\n      console.error(\"❌ 上传失败:\", err);\n      alert(err.message || \"上传失败\");\n    } finally {\n      setUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upload-form-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"\\uD83D\\uDCE4 Upload New Photo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      multiple: true,\n      accept: ALLOW_TYPES.join(\",\"),\n      onChange: handlePick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uD83D\\uDCCD Place Name\",\n      value: placeName,\n      onChange: e => setPlaceName(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\uD83D\\uDCDD Description\",\n      value: description,\n      onChange: e => setDescription(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: visibility,\n      onChange: e => setVisibility(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"public\",\n        children: \"\\uD83C\\uDF0D Public (\\u516C\\u5F00\\u6876)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"private\",\n        children: \"\\uD83D\\uDD12 Private (\\u79C1\\u6709\\u6876)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      disabled: !files.length || uploading,\n      children: uploading ? \"Uploading...\" : \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), !!files.length && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8,\n        fontSize: 12,\n        color: \"#6b7280\"\n      },\n      children: [\"\\u5DF2\\u9009 \", files.length, \" \\u5F20\\uFF1B\\u4EC5\\u652F\\u6301 JPG/PNG/WebP\\uFF0C\\u5355\\u5F20 \\u2264 \", MAX_MB, \"MB\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n_s(UploadPhotoForm, \"4m0m5EcVRpmfSj3BKrzvT8sKkzw=\");\n_c = UploadPhotoForm;\nvar _c;\n$RefreshReg$(_c, \"UploadPhotoForm\");","map":{"version":3,"names":["React","useState","useMemo","jsxDEV","_jsxDEV","ALLOW_TYPES","MAX_MB","UploadPhotoForm","tripId","dayIndex","onUpload","_s","files","setFiles","placeName","setPlaceName","description","setDescription","visibility","setVisibility","uploading","setUploading","userId","localStorage","getItem","handlePick","e","picked","Array","from","target","bad","ok","filter","f","validType","includes","type","validSize","size","push","name","length","alert","join","getSignedUrl","file","kind","r","fetch","method","headers","body","JSON","stringify","contentType","Error","text","catch","json","handleUpload","uploadUrl","key","publicUrl","putRes","metaRes","uploadedBy","Number","imageUrl","imageKey","err","console","error","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","multiple","accept","onChange","placeholder","value","onClick","disabled","style","marginTop","fontSize","color","_c","$RefreshReg$"],"sources":["/Users/jsy/Desktop/ai-travel-app/frontend/src/pages/UploadPhotoForm.js"],"sourcesContent":["import React, { useState, useMemo } from \"react\";\n\nconst ALLOW_TYPES = [\"image/jpeg\", \"image/png\", \"image/webp\"];\nconst MAX_MB = 15; // 单张最大 15MB，可按需调整\n\nexport default function UploadPhotoForm({ tripId, dayIndex, onUpload }) {\n  const [files, setFiles] = useState([]);\n  const [placeName, setPlaceName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [visibility, setVisibility] = useState(\"public\"); // public | private\n  const [uploading, setUploading] = useState(false);\n\n  const userId = useMemo(() => localStorage.getItem(\"userId\"), []);\n\n  const handlePick = (e) => {\n    const picked = Array.from(e.target.files || []);\n    // 过滤 + 提示\n    const bad = [];\n    const ok = picked.filter((f) => {\n      const validType = ALLOW_TYPES.includes(f.type);\n      const validSize = f.size <= MAX_MB * 1024 * 1024;\n      if (!validType || !validSize) bad.push(`${f.name}`);\n      return validType && validSize;\n    });\n    if (bad.length) {\n      alert(\n        `以下文件类型或大小不符合要求（仅 JPG/PNG/WebP，≤ ${MAX_MB}MB）：\\n` +\n          bad.join(\"\\n\")\n      );\n    }\n    setFiles(ok);\n  };\n\n  // 向后端要预签名 URL\n  async function getSignedUrl(file, { userId, tripId, kind }) {\n    const r = await fetch(\"http://localhost:3001/api/upload/sign\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        contentType: file.type,\n        userId,\n        tripId,\n        kind, // 'public' or 'private'\n        size: file.size, // 可让后端做大小校验\n      }),\n    });\n    if (!r.ok) throw new Error(\"获取签名失败：\" + (await r.text().catch(() => \"\")));\n    return r.json(); // { uploadUrl, key, publicUrl }\n  }\n\n  const handleUpload = async () => {\n    if (!userId || !tripId || dayIndex == null) {\n      alert(\"缺少必要信息（userId / tripId / dayIndex）\");\n      return;\n    }\n    if (!files.length) {\n      alert(\"请选择照片\");\n      return;\n    }\n\n    setUploading(true);\n    try {\n      // 串行更稳（好做错误处理），你也可以 Promise.all 并发\n      for (const file of files) {\n        // 1) 取签名\n        const { uploadUrl, key, publicUrl } = await getSignedUrl(file, {\n          userId,\n          tripId,\n          kind: visibility === \"private\" ? \"private\" : \"public\",\n        });\n\n        // 2) PUT 直传到 S3（Content-Type 必须一致）\n        const putRes = await fetch(uploadUrl, {\n          method: \"PUT\",\n          headers: { \"Content-Type\": file.type },\n          body: file,\n        });\n        if (!putRes.ok) {\n          throw new Error(\n            `上传到 S3 失败：${file.name} — ` + (await putRes.text().catch(() => \"\"))\n          );\n        }\n\n        // 3) 把元数据存到后端（注意这里用 JSON，不再用 FormData）\n        const metaRes = await fetch(\"http://localhost:3001/api/photo\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            tripId,\n            uploadedBy: userId,\n            dayIndex: Number(dayIndex),\n            placeName: placeName || null,\n            description: description || null,\n            visibility,              // 'public' | 'private'\n            imageUrl: publicUrl,     // S3 访问 URL（私有桶可留空或存人类不可见的占位，取决于你的实现）\n            imageKey: key,           // S3 对象 key（删除/换 CDN 会用到）\n          }),\n        });\n        if (!metaRes.ok) {\n          throw new Error(\n            `保存元数据失败：${file.name} — ` + (await metaRes.text().catch(() => \"\"))\n          );\n        }\n      }\n\n      // reset\n      setFiles([]);\n      setPlaceName(\"\");\n      setDescription(\"\");\n      alert(\"✅ 全部照片上传成功\");\n      onUpload?.(); // 通知父组件刷新\n    } catch (err) {\n      console.error(\"❌ 上传失败:\", err);\n      alert(err.message || \"上传失败\");\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"upload-form-card\">\n      <h4>📤 Upload New Photo</h4>\n\n      <input\n        type=\"file\"\n        multiple\n        accept={ALLOW_TYPES.join(\",\")}\n        onChange={handlePick}\n      />\n\n      <input\n        type=\"text\"\n        placeholder=\"📍 Place Name\"\n        value={placeName}\n        onChange={(e) => setPlaceName(e.target.value)}\n      />\n\n      <input\n        type=\"text\"\n        placeholder=\"📝 Description\"\n        value={description}\n        onChange={(e) => setDescription(e.target.value)}\n      />\n\n      <select\n        value={visibility}\n        onChange={(e) => setVisibility(e.target.value)}\n      >\n        <option value=\"public\">🌍 Public (公开桶)</option>\n        <option value=\"private\">🔒 Private (私有桶)</option>\n      </select>\n\n      <button onClick={handleUpload} disabled={!files.length || uploading}>\n        {uploading ? \"Uploading...\" : \"Upload\"}\n      </button>\n\n      {!!files.length && (\n        <div style={{ marginTop: 8, fontSize: 12, color: \"#6b7280\" }}>\n          已选 {files.length} 张；仅支持 JPG/PNG/WebP，单张 ≤ {MAX_MB}MB\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}