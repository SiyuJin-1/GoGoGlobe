{"ast":null,"code":"var _jsxFileName = \"/Users/jsy/Desktop/ai-travel-app/frontend/src/pages/Navbar.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Navbar.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Navbar() {\n  _s();\n  const [unreadCount, setUnreadCount] = useState(0);\n  const userId = sessionStorage.getItem(\"userId\");\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      try {\n        const res = await fetch(`http://localhost:3001/api/notification/user/${userId}`);\n        const data = await res.json();\n        const unread = data.filter(n => !n.read).length;\n        setUnreadCount(unread);\n      } catch (err) {\n        console.error(\"Failed to fetch notifications\", err);\n      }\n    };\n    if (userId) {\n      fetchNotifications();\n    }\n  }, [userId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"navbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logo\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/home\",\n        children: \"GoGoGlobe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nav-links\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/summary-card\",\n        children: \"My Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/notifications/${userId}`,\n        className: \"notification-link\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            position: \"relative\"\n          },\n          children: [\"\\uD83D\\uDD14\", unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              position: \"absolute\",\n              top: \"-0.5rem\",\n              right: \"-0.2rem\",\n              height: \"10px\",\n              width: \"10px\",\n              backgroundColor: \"red\",\n              borderRadius: \"50%\",\n              display: \"inline-block\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), \" \", \"Notification\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Sign Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(Navbar, \"kbkQyZcWntSU4g4UPMkVP4HEso8=\");\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","useEffect","useState","Link","jsxDEV","_jsxDEV","Navbar","_s","unreadCount","setUnreadCount","userId","sessionStorage","getItem","fetchNotifications","res","fetch","data","json","unread","filter","n","read","length","err","console","error","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","style","position","top","right","height","width","backgroundColor","borderRadius","display","_c","$RefreshReg$"],"sources":["/Users/jsy/Desktop/ai-travel-app/frontend/src/pages/Navbar.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Navbar.css\";\n\nfunction Navbar() {\n  const [unreadCount, setUnreadCount] = useState(0);\n  const userId = sessionStorage.getItem(\"userId\");\n\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      try {\n        const res = await fetch(`http://localhost:3001/api/notification/user/${userId}`);\n        const data = await res.json();\n        const unread = data.filter(n => !n.read).length;\n        setUnreadCount(unread);\n      } catch (err) {\n        console.error(\"Failed to fetch notifications\", err);\n      }\n    };\n\n    if (userId) {\n      fetchNotifications();\n    }\n  }, [userId]);\n\n  return (\n    <div className=\"navbar\">\n      <div className=\"logo\">\n        <Link to=\"/home\">GoGoGlobe</Link>\n      </div>\n      <div className=\"nav-links\">\n        <Link to=\"/summary-card\">My Plan</Link>\n        <Link to={`/notifications/${userId}`} className=\"notification-link\">\n          <span style={{ position: \"relative\" }}>\n            ðŸ””\n            {unreadCount > 0 && (\n              <span\n                style={{\n                  position: \"absolute\",\n                  top: \"-0.5rem\",\n                  right: \"-0.2rem\",\n                  height: \"10px\",\n                  width: \"10px\",\n                  backgroundColor: \"red\",\n                  borderRadius: \"50%\",\n                  display: \"inline-block\",\n                }}\n              />\n            )}\n          </span>{\" \"}\n          Notification\n        </Link>\n        <Link to=\"/login\">Sign Out</Link>\n      </div>\n    </div>\n  );\n}\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}