{"ast":null,"code":"var _jsxFileName = \"/Users/jsy/Desktop/ai-travel-app/frontend/src/pages/SummaryCard.js\",\n  _s = $RefreshSig$();\n// src/pages/SummaryCard.js (or SummaryCard.jsx)\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport \"./SummaryCard.css\";\nimport Navbar from \"./Navbar\";\nimport SubNavBar from \"./SubNavBar\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:3001\";\n\n/* 单张卡片 */\nconst SummaryCard = ({\n  plan,\n  onClick,\n  onDelete,\n  onEdit\n}) => {\n  const {\n    fromCity,\n    destination,\n    startDate,\n    endDate,\n    schedule = [],\n    cover\n  } = plan || {};\n  const totalDays = Array.isArray(schedule) ? schedule.length : 0;\n  const totalItems = Array.isArray(schedule) ? schedule.reduce((sum, day) => {\n    var _day$items;\n    return sum + ((day === null || day === void 0 ? void 0 : (_day$items = day.items) === null || _day$items === void 0 ? void 0 : _day$items.length) || 0);\n  }, 0) : 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"summary-card\",\n    onClick: onClick,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-left\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-route\",\n        children: [fromCity, \" \\u2192 \", destination]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-dates\",\n        children: [startDate ? new Date(startDate).toLocaleDateString() : \"-\", \" ~ \", endDate ? new Date(endDate).toLocaleDateString() : \"-\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-count\",\n        children: [totalDays, \" \\u5929 \\uFF5C \\u5171 \", totalItems, \" \\u4E2A\\u5730\\u70B9\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-right\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: cover || \"/images/default-cover.jpg\",\n        alt: \"cover\",\n        className: \"summary-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"edit-btn\",\n        onClick: e => {\n          e.stopPropagation();\n          onEdit(plan);\n        },\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete-btn\",\n        onClick: e => {\n          e.stopPropagation();\n          onDelete(plan.id);\n        },\n        style: {\n          background: \"transparent\",\n          border: \"none\",\n          cursor: \"pointer\",\n          padding: 0,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        title: \"\\u5220\\u9664\\u8BA1\\u5212\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"20\",\n          height: \"20\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"grey\",\n          strokeWidth: \"1.8\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n            points: \"3 6 5 6 21 6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M19 6l-2 14a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2L5 6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M10 11v6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M14 11v6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n};\n_c = SummaryCard;\nexport default function TravelSummaries() {\n  _s();\n  const [plans, setPlans] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const ensureUserId = async () => {\n    // 1) localStorage\n    const cached = localStorage.getItem(\"userId\");\n    if (cached) return cached;\n\n    // 2) /api/auth/me\n    try {\n      const r = await fetch(`${API_BASE}/api/auth/me`, {\n        credentials: \"include\"\n      });\n      if (r.ok) {\n        var _d$user;\n        const d = await r.json();\n        if (d !== null && d !== void 0 && (_d$user = d.user) !== null && _d$user !== void 0 && _d$user.id) {\n          localStorage.setItem(\"userId\", String(d.user.id));\n          return String(d.user.id);\n        }\n      }\n    } catch {}\n    return null;\n  };\n  const fetchPlans = async () => {\n    setLoading(true);\n    try {\n      let userId = localStorage.getItem(\"userId\") || (await ensureUserId());\n      if (!userId) {\n        setPlans([]);\n        return;\n      }\n      const res = await fetch(`${API_BASE}/api/trip/user/${userId}`, {\n        credentials: \"include\"\n      });\n\n      // 先检查是不是 JSON（防止前端服务器返回 HTML）\n      const ct = res.headers.get(\"content-type\") || \"\";\n      if (!ct.includes(\"application/json\")) {\n        console.warn(\"Expected JSON, got:\", ct, \"body:\", await res.text());\n        setPlans([]);\n        return;\n      }\n      if (!res.ok) {\n        console.warn(\"fetch plans failed:\", await res.text());\n        setPlans([]);\n        return;\n      }\n      const data = await res.json();\n      setPlans(Array.isArray(data) ? data : []);\n    } catch (e) {\n      console.error(\"❌ 获取行程失败:\", e);\n      setPlans([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEdit = plan => {\n    localStorage.setItem(\"editingPlan\", JSON.stringify(plan));\n    navigate(\"/itinerary\");\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"确认要删除这个行程吗？\")) return;\n    try {\n      await fetch(`${API_BASE}/api/trip/${id}`, {\n        method: \"DELETE\",\n        credentials: \"include\"\n      });\n      await fetchPlans();\n    } catch (e) {\n      console.error(\"❌ 删除失败:\", e);\n      alert(\"删除失败，请稍后再试\");\n    }\n  };\n  useEffect(() => {\n    fetchPlans();\n  }, [location.search]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SubNavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"summary-title\",\n        children: \"\\uD83C\\uDF10 My Travel Summaries\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          padding: \"1rem\"\n        },\n        children: \"\\u52A0\\u8F7D\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this) : !plans.length ? /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          padding: \"1rem\"\n        },\n        children: \"\\u76EE\\u524D\\u6CA1\\u6709\\u4FDD\\u5B58\\u7684\\u884C\\u7A0B\\u3002\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this) : plans.map(p => /*#__PURE__*/_jsxDEV(SummaryCard, {\n        plan: p,\n        onClick: () => navigate(`/plan-summary/${p.id}`),\n        onDelete: handleDelete,\n        onEdit: handleEdit\n      }, p.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(TravelSummaries, \"L6WQgk3egFdyXbzJHIp8pwkF2yg=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c2 = TravelSummaries;\nvar _c, _c2;\n$RefreshReg$(_c, \"SummaryCard\");\n$RefreshReg$(_c2, \"TravelSummaries\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useLocation","Navbar","SubNavBar","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","process","env","REACT_APP_API_BASE","SummaryCard","plan","onClick","onDelete","onEdit","fromCity","destination","startDate","endDate","schedule","cover","totalDays","Array","isArray","length","totalItems","reduce","sum","day","_day$items","items","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Date","toLocaleDateString","src","alt","e","stopPropagation","id","style","background","border","cursor","padding","display","alignItems","justifyContent","title","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","d","_c","TravelSummaries","_s","plans","setPlans","loading","setLoading","navigate","location","ensureUserId","cached","localStorage","getItem","r","fetch","credentials","ok","_d$user","json","user","setItem","String","fetchPlans","userId","res","ct","headers","get","includes","console","warn","text","data","error","handleEdit","JSON","stringify","handleDelete","window","confirm","method","alert","search","map","p","_c2","$RefreshReg$"],"sources":["/Users/jsy/Desktop/ai-travel-app/frontend/src/pages/SummaryCard.js"],"sourcesContent":["// src/pages/SummaryCard.js (or SummaryCard.jsx)\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport \"./SummaryCard.css\";\nimport Navbar from \"./Navbar\";\nimport SubNavBar from \"./SubNavBar\";\n\nconst API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:3001\";\n\n/* 单张卡片 */\nconst SummaryCard = ({ plan, onClick, onDelete, onEdit }) => {\n  const { fromCity, destination, startDate, endDate, schedule = [], cover } = plan || {};\n  const totalDays = Array.isArray(schedule) ? schedule.length : 0;\n  const totalItems = Array.isArray(schedule)\n    ? schedule.reduce((sum, day) => sum + (day?.items?.length || 0), 0)\n    : 0;\n\n  return (\n    <div className=\"summary-card\" onClick={onClick}>\n      <div className=\"summary-left\">\n        <div className=\"summary-route\">{fromCity} → {destination}</div>\n        <div className=\"summary-dates\">\n          {startDate ? new Date(startDate).toLocaleDateString() : \"-\"}{\" ~ \"}\n          {endDate ? new Date(endDate).toLocaleDateString() : \"-\"}\n        </div>\n        <div className=\"summary-count\">{totalDays} 天 ｜ 共 {totalItems} 个地点</div>\n      </div>\n      <div className=\"summary-right\">\n        <img\n          src={cover || \"/images/default-cover.jpg\"}\n          alt=\"cover\"\n          className=\"summary-cover\"\n        />\n      </div>\n      <div className=\"summary-actions\">\n        <button\n          className=\"edit-btn\"\n          onClick={(e) => { e.stopPropagation(); onEdit(plan); }}\n        >\n          Edit\n        </button>\n        <button\n          className=\"delete-btn\"\n          onClick={(e) => { e.stopPropagation(); onDelete(plan.id); }}\n          style={{ background: \"transparent\", border: \"none\", cursor: \"pointer\", padding: 0, display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}\n          title=\"删除计划\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"grey\" strokeWidth=\"1.8\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <polyline points=\"3 6 5 6 21 6\" />\n            <path d=\"M19 6l-2 14a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2L5 6\" />\n            <path d=\"M10 11v6\" />\n            <path d=\"M14 11v6\" />\n            <path d=\"M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default function TravelSummaries() {\n  const [plans, setPlans] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const ensureUserId = async () => {\n    // 1) localStorage\n    const cached = localStorage.getItem(\"userId\");\n    if (cached) return cached;\n\n    // 2) /api/auth/me\n    try {\n      const r = await fetch(`${API_BASE}/api/auth/me`, { credentials: \"include\" });\n      if (r.ok) {\n        const d = await r.json();\n        if (d?.user?.id) {\n          localStorage.setItem(\"userId\", String(d.user.id));\n          return String(d.user.id);\n        }\n      }\n    } catch {}\n    return null;\n  };\n\n  const fetchPlans = async () => {\n    setLoading(true);\n    try {\n      let userId = localStorage.getItem(\"userId\") || await ensureUserId();\n      if (!userId) {\n        setPlans([]);\n        return;\n      }\n\n      const res = await fetch(`${API_BASE}/api/trip/user/${userId}`, { credentials: \"include\" });\n\n      // 先检查是不是 JSON（防止前端服务器返回 HTML）\n      const ct = res.headers.get(\"content-type\") || \"\";\n      if (!ct.includes(\"application/json\")) {\n        console.warn(\"Expected JSON, got:\", ct, \"body:\", await res.text());\n        setPlans([]);\n        return;\n      }\n      if (!res.ok) {\n        console.warn(\"fetch plans failed:\", await res.text());\n        setPlans([]);\n        return;\n      }\n\n      const data = await res.json();\n      setPlans(Array.isArray(data) ? data : []);\n    } catch (e) {\n      console.error(\"❌ 获取行程失败:\", e);\n      setPlans([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (plan) => {\n    localStorage.setItem(\"editingPlan\", JSON.stringify(plan));\n    navigate(\"/itinerary\");\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm(\"确认要删除这个行程吗？\")) return;\n    try {\n      await fetch(`${API_BASE}/api/trip/${id}`, { method: \"DELETE\", credentials: \"include\" });\n      await fetchPlans();\n    } catch (e) {\n      console.error(\"❌ 删除失败:\", e);\n      alert(\"删除失败，请稍后再试\");\n    }\n  };\n\n  useEffect(() => { fetchPlans(); }, [location.search]);\n\n  return (\n    <>\n      <Navbar />\n      <SubNavBar />\n      <div className=\"summary-wrapper\">\n        <h2 className=\"summary-title\">🌐 My Travel Summaries</h2>\n        {loading ? (\n          <p style={{ padding: \"1rem\" }}>加载中...</p>\n        ) : !plans.length ? (\n          <p style={{ padding: \"1rem\" }}>目前没有保存的行程。</p>\n        ) : (\n          plans.map((p) => (\n            <SummaryCard\n              key={p.id}\n              plan={p}\n              onClick={() => navigate(`/plan-summary/${p.id}`)}\n              onDelete={handleDelete}\n              onEdit={handleEdit}\n            />\n          ))\n        )}\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}