{"ast":null,"code":"var _jsxFileName = \"/Users/jsy/Desktop/ai-travel-app/frontend/src/pages/MapView.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { MapContainer, TileLayer, Marker, useMapEvents } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// ‰øÆÂ§çÈªòËÆ§ÂõæÊ†á‰∏çÊòæÁ§∫ÁöÑÈóÆÈ¢ò\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png'\n});\n\n// üìçÂèØÈÄâÁÇπÁªÑ‰ª∂\nfunction LocationMarker({\n  onSelect\n}) {\n  _s();\n  const [position, setPosition] = useState(null);\n  useMapEvents({\n    click: async e => {\n      const {\n        lat,\n        lng\n      } = e.latlng;\n      setPosition([lat, lng]);\n\n      // üîÑ Áî® Nominatim ÂèçÂêëÂú∞ÁêÜÁºñÁ†ÅËé∑ÂèñÂú∞Âêç\n      try {\n        const response = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lng}&format=json`);\n        const data = await response.json();\n        const locationName = data.display_name || \"Êú™Áü•Âú∞ÁÇπ\";\n        onSelect(locationName); // üëà ‰º†ÂõûÂú∞ÂêçÂ≠óÁ¨¶‰∏≤\n      } catch (error) {\n        console.error(\"Âú∞ÁÇπËé∑ÂèñÂ§±Ë¥•Ôºö\", error);\n        onSelect(\"Êú™Áü•Âú∞ÁÇπ\");\n      }\n    }\n  });\n  return position ? /*#__PURE__*/_jsxDEV(Marker, {\n    position: position\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 21\n  }, this) : null;\n}\n_s(LocationMarker, \"d+iGiIlX3PyrS97OlxTSSv84eug=\", false, function () {\n  return [useMapEvents];\n});\n_c = LocationMarker;\nexport default function MapView({\n  onLocationSelected\n}) {\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: [37.7749, -122.4194],\n    zoom: 13,\n    scrollWheelZoom: true,\n    style: {\n      height: '100%',\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      attribution: \"\\xA9 <a href=\\\"https://carto.com/\\\">CARTO</a>\",\n      url: \"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(LocationMarker, {\n      onSelect: onLocationSelected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 7\n  }, this);\n}\n_c2 = MapView;\nvar _c, _c2;\n$RefreshReg$(_c, \"LocationMarker\");\n$RefreshReg$(_c2, \"MapView\");","map":{"version":3,"names":["React","useState","MapContainer","TileLayer","Marker","useMapEvents","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconUrl","iconRetinaUrl","shadowUrl","LocationMarker","onSelect","_s","position","setPosition","click","e","lat","lng","latlng","response","fetch","data","json","locationName","display_name","error","console","fileName","_jsxFileName","lineNumber","columnNumber","_c","MapView","onLocationSelected","center","zoom","scrollWheelZoom","style","height","width","children","attribution","url","_c2","$RefreshReg$"],"sources":["/Users/jsy/Desktop/ai-travel-app/frontend/src/pages/MapView.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { MapContainer, TileLayer, Marker, useMapEvents } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\n\n// ‰øÆÂ§çÈªòËÆ§ÂõæÊ†á‰∏çÊòæÁ§∫ÁöÑÈóÆÈ¢ò\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\n});\n\n// üìçÂèØÈÄâÁÇπÁªÑ‰ª∂\nfunction LocationMarker({ onSelect }) {\n  const [position, setPosition] = useState(null);\n\n  useMapEvents({\n    click: async (e) => {\n      const { lat, lng } = e.latlng;\n      setPosition([lat, lng]);\n\n      // üîÑ Áî® Nominatim ÂèçÂêëÂú∞ÁêÜÁºñÁ†ÅËé∑ÂèñÂú∞Âêç\n      try {\n        const response = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lng}&format=json`);\n        const data = await response.json();\n        const locationName = data.display_name || \"Êú™Áü•Âú∞ÁÇπ\";\n        onSelect(locationName); // üëà ‰º†ÂõûÂú∞ÂêçÂ≠óÁ¨¶‰∏≤\n      } catch (error) {\n        console.error(\"Âú∞ÁÇπËé∑ÂèñÂ§±Ë¥•Ôºö\", error);\n        onSelect(\"Êú™Áü•Âú∞ÁÇπ\");\n      }\n    },\n  });\n\n  return position ? <Marker position={position} /> : null;\n}\n\n\nexport default function MapView({ onLocationSelected }) {\n  return (\n      <MapContainer center={[37.7749, -122.4194]} zoom={13} scrollWheelZoom={true} style={{ height: '100%', width: '100%' }}>\n<TileLayer\n  attribution='&copy; <a href=\"https://carto.com/\">CARTO</a>'\n  url=\"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png\"\n/>\n\n\n        <LocationMarker onSelect={onLocationSelected} />\n      </MapContainer>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,YAAY,QAAQ,eAAe;AAC7E,OAAO,0BAA0B;AACjC,OAAOC,CAAC,MAAM,SAAS;;AAEvB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAOF,CAAC,CAACG,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CN,CAAC,CAACG,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,OAAO,EAAE,6DAA6D;EACtEC,aAAa,EAAE,gEAAgE;EAC/EC,SAAS,EAAE;AACb,CAAC,CAAC;;AAEF;AACA,SAASC,cAAcA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACpC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAE9CI,YAAY,CAAC;IACXiB,KAAK,EAAE,MAAOC,CAAC,IAAK;MAClB,MAAM;QAAEC,GAAG;QAAEC;MAAI,CAAC,GAAGF,CAAC,CAACG,MAAM;MAC7BL,WAAW,CAAC,CAACG,GAAG,EAAEC,GAAG,CAAC,CAAC;;MAEvB;MACA,IAAI;QACF,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,mDAAmDJ,GAAG,QAAQC,GAAG,cAAc,CAAC;QAC7G,MAAMI,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;QAClC,MAAMC,YAAY,GAAGF,IAAI,CAACG,YAAY,IAAI,MAAM;QAChDd,QAAQ,CAACa,YAAY,CAAC,CAAC,CAAC;MAC1B,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/Bf,QAAQ,CAAC,MAAM,CAAC;MAClB;IACF;EACF,CAAC,CAAC;EAEF,OAAOE,QAAQ,gBAAGZ,OAAA,CAACJ,MAAM;IAACgB,QAAQ,EAAEA;EAAS;IAAAe,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC,GAAG,IAAI;AACzD;AAACnB,EAAA,CAtBQF,cAAc;EAAA,QAGrBZ,YAAY;AAAA;AAAAkC,EAAA,GAHLtB,cAAc;AAyBvB,eAAe,SAASuB,OAAOA,CAAC;EAAEC;AAAmB,CAAC,EAAE;EACtD,oBACIjC,OAAA,CAACN,YAAY;IAACwC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,CAAE;IAACC,IAAI,EAAE,EAAG;IAACC,eAAe,EAAE,IAAK;IAACC,KAAK,EAAE;MAAEC,MAAM,EAAE,MAAM;MAAEC,KAAK,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC5HxC,OAAA,CAACL,SAAS;MACR8C,WAAW,EAAC,+CAA+C;MAC3DC,GAAG,EAAC;IAA0E;MAAAf,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/E,CAAC,eAGM9B,OAAA,CAACS,cAAc;MAACC,QAAQ,EAAEuB;IAAmB;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpC,CAAC;AAErB;AAACa,GAAA,GAZuBX,OAAO;AAAA,IAAAD,EAAA,EAAAY,GAAA;AAAAC,YAAA,CAAAb,EAAA;AAAAa,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}