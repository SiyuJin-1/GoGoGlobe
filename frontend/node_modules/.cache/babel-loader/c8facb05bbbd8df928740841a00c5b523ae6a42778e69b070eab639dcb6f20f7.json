{"ast":null,"code":"var _jsxFileName = \"/Users/jsy/Desktop/ai-travel-app/frontend/src/pages/AccommodationForm.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport \"./AccommodationForm.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AccommodationForm({\n  userId,\n  tripList,\n  // 仅用于外层下拉展示（本组件不强制用）\n  selectedTripId,\n  // 必须：当前选中的 tripId\n  setSelectedTripId,\n  // 可选：若你想在表单内切换行程\n  onSuccess // 成功后回调（刷新列表等）\n}) {\n  _s();\n  const [form, setForm] = useState({\n    name: \"\",\n    address: \"\",\n    checkIn: \"\",\n    checkOut: \"\",\n    bookingUrl: \"\"\n  });\n  const [imageFile, setImageFile] = useState(null);\n  const [preview, setPreview] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const fileInputRef = useRef(null);\n\n  // 可调：上传大小限制（MB）\n  const MAX_MB = 25;\n  const ALLOW_TYPES = [\"image/jpeg\", \"image/png\", \"image/webp\"];\n  const onChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const onPickFile = e => {\n    var _e$target$files;\n    const f = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!f) return;\n    if (!ALLOW_TYPES.includes(f.type)) return alert(\"仅支持 JPG / PNG / WebP\");\n    if (f.size > MAX_MB * 1024 * 1024) return alert(`文件不得超过 ${MAX_MB}MB`);\n    setImageFile(f);\n    setPreview(URL.createObjectURL(f));\n  };\n\n  // 直传 S3\n  async function uploadToS3(file, {\n    userId,\n    tripId\n  }) {\n    // 1) 要预签名\n    const r1 = await fetch(\"http://localhost:3001/api/upload/sign\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        contentType: file.type,\n        userId,\n        tripId,\n        size: file.size // 可让后端做大小校验（可选）\n      })\n    });\n    if (!r1.ok) throw new Error(\"获取签名失败：\" + (await r1.text().catch(() => \"\")));\n    const {\n      uploadUrl,\n      publicUrl,\n      key\n    } = await r1.json();\n\n    // 2) PUT 到 S3（Content-Type 必须一致）\n    const r2 = await fetch(uploadUrl, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": file.type\n      },\n      body: file\n    });\n    if (!r2.ok) throw new Error(\"上传到 S3 失败：\" + (await r2.text().catch(() => \"\")));\n    return {\n      publicUrl,\n      key\n    };\n  }\n  async function handleSubmit(e) {\n    var _e$preventDefault;\n    e === null || e === void 0 ? void 0 : (_e$preventDefault = e.preventDefault) === null || _e$preventDefault === void 0 ? void 0 : _e$preventDefault.call(e);\n    if (!selectedTripId) return alert(\"请选择行程\");\n    if (!form.name || !form.checkIn || !form.checkOut) {\n      return alert(\"请填写完整信息（名称、入住、退房）\");\n    }\n    try {\n      setLoading(true);\n\n      // ① 可选：先直传 S3\n      let imageUrl = \"\";\n      let imageKey = \"\";\n      if (imageFile) {\n        const {\n          publicUrl,\n          key\n        } = await uploadToS3(imageFile, {\n          userId,\n          tripId: selectedTripId\n        });\n        imageUrl = publicUrl;\n        imageKey = key;\n      }\n\n      // ② 保存到数据库\n      const res = await fetch(\"http://localhost:3001/api/accommodations\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          tripId: selectedTripId,\n          name: form.name,\n          address: form.address,\n          checkIn: form.checkIn,\n          checkOut: form.checkOut,\n          bookingUrl: form.bookingUrl,\n          imageUrl,\n          // S3 直链\n          imageKey // S3 key（后续删除/换 CDN 用）\n        })\n      });\n      const data = await res.json().catch(() => ({}));\n      if (!res.ok || !(data !== null && data !== void 0 && data.id)) throw new Error((data === null || data === void 0 ? void 0 : data.message) || \"保存失败\");\n      alert(\"✅ 添加成功\");\n      // 重置表单\n      setForm({\n        name: \"\",\n        address: \"\",\n        checkIn: \"\",\n        checkOut: \"\",\n        bookingUrl: \"\"\n      });\n      setImageFile(null);\n      setPreview(\"\");\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\n      onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n    } catch (err) {\n      console.error(err);\n      alert(\"❌ 失败：\" + (err.message || \"未知错误\"));\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"form-card\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"accommodation-title\",\n      children: \"Add New Accommodation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"name\",\n      value: form.name,\n      onChange: onChange,\n      placeholder: \"\\uD83C\\uDFE8 Accommodation Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"address\",\n      value: form.address,\n      onChange: onChange,\n      placeholder: \"\\uD83D\\uDCCD Address\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"checkIn\",\n      type: \"date\",\n      value: form.checkIn,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"checkOut\",\n      type: \"date\",\n      value: form.checkOut,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"bookingUrl\",\n      value: form.bookingUrl,\n      onChange: onChange,\n      placeholder: \"\\uD83D\\uDD17 Link\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gap: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: fileInputRef,\n        type: \"file\",\n        accept: ALLOW_TYPES.join(\",\"),\n        onChange: onPickFile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), preview && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: preview,\n        alt: \"preview\",\n        style: {\n          width: 240,\n          height: 160,\n          objectFit: \"cover\",\n          borderRadius: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: loading,\n      children: loading ? \"上传中...\" : \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 12,\n        color: \"#6b7280\",\n        marginTop: 6\n      },\n      children: [\"\\u652F\\u6301\\u7C7B\\u578B\\uFF1AJPG/PNG/WebP\\uFF0C\\u6700\\u5927 \", MAX_MB, \"MB\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n}\n_s(AccommodationForm, \"Cm87VCJ/Vn/qUpvEmpFllLhs/oE=\");\n_c = AccommodationForm;\nvar _c;\n$RefreshReg$(_c, \"AccommodationForm\");","map":{"version":3,"names":["React","useRef","useState","jsxDEV","_jsxDEV","AccommodationForm","userId","tripList","selectedTripId","setSelectedTripId","onSuccess","_s","form","setForm","name","address","checkIn","checkOut","bookingUrl","imageFile","setImageFile","preview","setPreview","loading","setLoading","fileInputRef","MAX_MB","ALLOW_TYPES","onChange","e","target","value","onPickFile","_e$target$files","f","files","includes","type","alert","size","URL","createObjectURL","uploadToS3","file","tripId","r1","fetch","method","headers","body","JSON","stringify","contentType","ok","Error","text","catch","uploadUrl","publicUrl","key","json","r2","handleSubmit","_e$preventDefault","preventDefault","call","imageUrl","imageKey","res","data","id","message","current","err","console","error","className","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","style","display","gap","ref","accept","join","src","alt","width","height","objectFit","borderRadius","disabled","fontSize","color","marginTop","_c","$RefreshReg$"],"sources":["/Users/jsy/Desktop/ai-travel-app/frontend/src/pages/AccommodationForm.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport \"./AccommodationForm.css\";\n\nexport default function AccommodationForm({\n  userId,\n  tripList,            // 仅用于外层下拉展示（本组件不强制用）\n  selectedTripId,      // 必须：当前选中的 tripId\n  setSelectedTripId,   // 可选：若你想在表单内切换行程\n  onSuccess,           // 成功后回调（刷新列表等）\n}) {\n  const [form, setForm] = useState({\n    name: \"\",\n    address: \"\",\n    checkIn: \"\",\n    checkOut: \"\",\n    bookingUrl: \"\",\n  });\n  const [imageFile, setImageFile] = useState(null);\n  const [preview, setPreview] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const fileInputRef = useRef(null);\n\n  // 可调：上传大小限制（MB）\n  const MAX_MB = 25;\n  const ALLOW_TYPES = [\"image/jpeg\", \"image/png\", \"image/webp\"];\n\n  const onChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\n  const onPickFile = (e) => {\n    const f = e.target.files?.[0];\n    if (!f) return;\n    if (!ALLOW_TYPES.includes(f.type)) return alert(\"仅支持 JPG / PNG / WebP\");\n    if (f.size > MAX_MB * 1024 * 1024) return alert(`文件不得超过 ${MAX_MB}MB`);\n    setImageFile(f);\n    setPreview(URL.createObjectURL(f));\n  };\n\n  // 直传 S3\n  async function uploadToS3(file, { userId, tripId }) {\n    // 1) 要预签名\n    const r1 = await fetch(\"http://localhost:3001/api/upload/sign\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        contentType: file.type,\n        userId,\n        tripId,\n        size: file.size, // 可让后端做大小校验（可选）\n      }),\n    });\n    if (!r1.ok) throw new Error(\"获取签名失败：\" + (await r1.text().catch(() => \"\")));\n    const { uploadUrl, publicUrl, key } = await r1.json();\n\n    // 2) PUT 到 S3（Content-Type 必须一致）\n    const r2 = await fetch(uploadUrl, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": file.type },\n      body: file,\n    });\n    if (!r2.ok) throw new Error(\"上传到 S3 失败：\" + (await r2.text().catch(() => \"\")));\n\n    return { publicUrl, key };\n  }\n\n  async function handleSubmit(e) {\n    e?.preventDefault?.();\n\n    if (!selectedTripId) return alert(\"请选择行程\");\n    if (!form.name || !form.checkIn || !form.checkOut) {\n      return alert(\"请填写完整信息（名称、入住、退房）\");\n    }\n\n    try {\n      setLoading(true);\n\n      // ① 可选：先直传 S3\n      let imageUrl = \"\";\n      let imageKey = \"\";\n      if (imageFile) {\n        const { publicUrl, key } = await uploadToS3(imageFile, {\n          userId,\n          tripId: selectedTripId,\n        });\n        imageUrl = publicUrl;\n        imageKey = key;\n      }\n\n      // ② 保存到数据库\n      const res = await fetch(\"http://localhost:3001/api/accommodations\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          tripId: selectedTripId,\n          name: form.name,\n          address: form.address,\n          checkIn: form.checkIn,\n          checkOut: form.checkOut,\n          bookingUrl: form.bookingUrl,\n          imageUrl,   // S3 直链\n          imageKey,   // S3 key（后续删除/换 CDN 用）\n        }),\n      });\n\n      const data = await res.json().catch(() => ({}));\n      if (!res.ok || !data?.id) throw new Error(data?.message || \"保存失败\");\n\n      alert(\"✅ 添加成功\");\n      // 重置表单\n      setForm({ name: \"\", address: \"\", checkIn: \"\", checkOut: \"\", bookingUrl: \"\" });\n      setImageFile(null);\n      setPreview(\"\");\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\n      onSuccess?.();\n    } catch (err) {\n      console.error(err);\n      alert(\"❌ 失败：\" + (err.message || \"未知错误\"));\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <form className=\"form-card\" onSubmit={handleSubmit}>\n      <h3 className=\"accommodation-title\">Add New Accommodation</h3>\n\n      {/* 需要在表单里切换行程再放开下面这段 */}\n      {/* {tripList?.length > 0 && setSelectedTripId && (\n        <select\n          value={selectedTripId ?? \"\"}\n          onChange={(e) => setSelectedTripId(Number(e.target.value))}\n          style={{ marginBottom: 8 }}\n        >\n          {tripList.map((t) => (\n            <option key={t.id} value={t.id}>\n              {t.fromCity} ➝ {t.destination}\n            </option>\n          ))}\n        </select>\n      )} */}\n\n      <input\n        name=\"name\"\n        value={form.name}\n        onChange={onChange}\n        placeholder=\"🏨 Accommodation Name\"\n      />\n      <input\n        name=\"address\"\n        value={form.address}\n        onChange={onChange}\n        placeholder=\"📍 Address\"\n      />\n      <input\n        name=\"checkIn\"\n        type=\"date\"\n        value={form.checkIn}\n        onChange={onChange}\n      />\n      <input\n        name=\"checkOut\"\n        type=\"date\"\n        value={form.checkOut}\n        onChange={onChange}\n      />\n      <input\n        name=\"bookingUrl\"\n        value={form.bookingUrl}\n        onChange={onChange}\n        placeholder=\"🔗 Link\"\n      />\n\n      <div style={{ display: \"grid\", gap: 6 }}>\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept={ALLOW_TYPES.join(\",\")}\n          onChange={onPickFile}\n        />\n        {preview && (\n          <img\n            src={preview}\n            alt=\"preview\"\n            style={{ width: 240, height: 160, objectFit: \"cover\", borderRadius: 8 }}\n          />\n        )}\n      </div>\n\n      <button type=\"submit\" disabled={loading}>\n        {loading ? \"上传中...\" : \"Upload\"}\n      </button>\n      <div style={{ fontSize: 12, color: \"#6b7280\", marginTop: 6 }}>\n        支持类型：JPG/PNG/WebP，最大 {MAX_MB}MB\n      </div>\n    </form>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}